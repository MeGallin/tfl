{"ast":null,"code":"import _classCallCheck from \"C:/xampp/htdocs/WebSitesDesigns/angular2/tfl/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/xampp/htdocs/WebSitesDesigns/angular2/tfl/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { HttpGetService } from \"src/app/services/http-get.service\";\nimport { timer } from \"rxjs\";\nimport { switchMap } from \"rxjs/operators\";\nimport { MatTableDataSource, MatPaginator, MatSort } from \"@angular/material\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/http-get.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material\";\nimport * as i4 from \"../home/home.component\";\nvar _c0 = [\"input\"];\n\nfunction LondonOvergroundComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Station\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LondonOvergroundComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r15.stationName);\n  }\n}\n\nfunction LondonOvergroundComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \"Platform\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LondonOvergroundComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r16.platformName);\n  }\n}\n\nfunction LondonOvergroundComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"Destination\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar _c1 = function _c1(a0) {\n  return {\n    \"h-s-text\": a0\n  };\n};\n\nfunction LondonOvergroundComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c1, item_r17.destinationName === \"Hammersmith (H&C Line) Underground Station\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r17.destinationName, \" \");\n  }\n}\n\nfunction LondonOvergroundComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \" Time to Station [Minutes] \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar _c2 = function _c2(a0) {\n  return [a0];\n};\n\nvar _c3 = function _c3(a0) {\n  return {\n    \"one-min-away\": a0\n  };\n};\n\nfunction LondonOvergroundComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c3, i0.ɵɵpureFunction1(5, _c2, item_r18.timeToStation / 60) <= 1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 2, item_r18.timeToStation / 60, \"0.0-0\"), \" \");\n  }\n}\n\nfunction LondonOvergroundComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \"Current Location\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LondonOvergroundComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r19 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c3, i0.ɵɵpureFunction1(2, _c2, item_r19.timeToStation / 60) <= 1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r19.currentLocation, \" \");\n  }\n}\n\nfunction LondonOvergroundComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \"Expected\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LondonOvergroundComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, item_r20.expectedArrival, \"shortTime\"), \" \");\n  }\n}\n\nfunction LondonOvergroundComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\n\nfunction LondonOvergroundComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\n\nvar _c4 = function _c4() {\n  return [20, 30, 40];\n};\n\nexport var LondonOvergroundComponent = /*#__PURE__*/(function () {\n  var LondonOvergroundComponent = /*#__PURE__*/function () {\n    function LondonOvergroundComponent(httpLondonOvergroundLineService$) {\n      _classCallCheck(this, LondonOvergroundComponent);\n\n      this.httpLondonOvergroundLineService$ = httpLondonOvergroundLineService$;\n      this.londonOvergroundData = [];\n      this.displayedColumns = [\"stationName\", \"platformName\", \"destinationName\", \"timeToStation\", \"currentLocation\", \"expectedArrival\"];\n      this.dataSource = new MatTableDataSource();\n    }\n\n    _createClass(LondonOvergroundComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.timer$ = timer(1000, 60000).pipe(switchMap(function () {\n          return _this.httpLondonOvergroundLineService$.getLondonOvergroundLine();\n        })).subscribe(function (res) {\n          _this.dataSource.data = res;\n          _this.londonOvergroundData = res;\n          console.log(_this.londonOvergroundData);\n        });\n      }\n    }, {\n      key: \"applyFilter\",\n      value: function applyFilter(filterValue) {\n        this.dataSource.filter = filterValue.trim().toLowerCase();\n      }\n    }]);\n\n    return LondonOvergroundComponent;\n  }();\n\n  LondonOvergroundComponent.ɵfac = function LondonOvergroundComponent_Factory(t) {\n    return new (t || LondonOvergroundComponent)(i0.ɵɵdirectiveInject(i1.HttpGetService));\n  };\n\n  LondonOvergroundComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LondonOvergroundComponent,\n    selectors: [[\"app-london-overground\"]],\n    viewQuery: function LondonOvergroundComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 32,\n    vars: 5,\n    consts: [[\"id\", \"london-overground-line\"], [1, \"flex-container\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Filter\", 3, \"keyup\"], [\"input\", \"\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"stationName\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"platformName\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"destinationName\"], [\"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"timeToStation\"], [\"matColumnDef\", \"currentLocation\"], [\"matColumnDef\", \"expectedArrival\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 3, \"ngClass\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function LondonOvergroundComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelement(1, \"app-home\");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\")(4, \"h3\");\n        i0.ɵɵtext(5, \"London Overground Line Arrivals\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\")(7, \"mat-form-field\")(8, \"input\", 2, 3);\n        i0.ɵɵlistener(\"keyup\", function LondonOvergroundComponent_Template_input_keyup_8_listener($event) {\n          return ctx.applyFilter($event.target.value);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"table\", 4);\n        i0.ɵɵelementContainerStart(11, 5);\n        i0.ɵɵtemplate(12, LondonOvergroundComponent_th_12_Template, 2, 0, \"th\", 6);\n        i0.ɵɵtemplate(13, LondonOvergroundComponent_td_13_Template, 2, 1, \"td\", 7);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(14, 8);\n        i0.ɵɵtemplate(15, LondonOvergroundComponent_th_15_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(16, LondonOvergroundComponent_td_16_Template, 2, 1, \"td\", 7);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(17, 10);\n        i0.ɵɵtemplate(18, LondonOvergroundComponent_th_18_Template, 2, 0, \"th\", 6);\n        i0.ɵɵtemplate(19, LondonOvergroundComponent_td_19_Template, 2, 4, \"td\", 11);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 12);\n        i0.ɵɵtemplate(21, LondonOvergroundComponent_th_21_Template, 2, 0, \"th\", 6);\n        i0.ɵɵtemplate(22, LondonOvergroundComponent_td_22_Template, 3, 9, \"td\", 11);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(23, 13);\n        i0.ɵɵtemplate(24, LondonOvergroundComponent_th_24_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(25, LondonOvergroundComponent_td_25_Template, 2, 6, \"td\", 11);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(26, 14);\n        i0.ɵɵtemplate(27, LondonOvergroundComponent_th_27_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(28, LondonOvergroundComponent_td_28_Template, 3, 4, \"td\", 7);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(29, LondonOvergroundComponent_tr_29_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵtemplate(30, LondonOvergroundComponent_tr_30_Template, 1, 0, \"tr\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"mat-paginator\", 17);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(4, _c4));\n      }\n    },\n    dependencies: [i2.NgClass, i3.MatFormField, i3.MatInput, i3.MatTable, i3.MatHeaderCellDef, i3.MatHeaderRowDef, i3.MatColumnDef, i3.MatCellDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i3.MatHeaderRow, i3.MatRow, i3.MatPaginator, i3.MatSort, i3.MatSortHeader, i4.HomeComponent, i2.DecimalPipe, i2.DatePipe],\n    styles: [\"#london-overground-line[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--london-overground-orange);padding:2%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:stretch}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;min-width:120px;background-color:#333;padding:0 8px;border-top:solid 6px var(--london-overground-orange);border-bottom:solid 6px var(--london-overground-orange)}.mat-form-field[_ngcontent-%COMP%]{font-family:inherit}table[_ngcontent-%COMP%]{width:100%;font-family:inherit}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{padding:8px 0;height:auto;font-size:.85em}  .mat-form-field-infix{color:var(--london-overground-orange)}tr.mat-header-row[_ngcontent-%COMP%]{height:6px}.one-min-away[_ngcontent-%COMP%]{color:red}.two-min-away[_ngcontent-%COMP%]{color:#ff4500}.h-s-text[_ngcontent-%COMP%]{color:var(--hammersmith-city-purple)}\"]\n  });\n  return LondonOvergroundComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}